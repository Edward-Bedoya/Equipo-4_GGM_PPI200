if (self.CavalryLogger) { CavalryLogger.start_js(["Go\/2a"]); }

__d("MWChatTabActiveContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatTabActiveContact_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("MWChatTabActiveContacts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"MWChatTabActiveContacts_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{args:null,kind:"FragmentSpread",name:"MWChatTabActiveContact_profile"}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWChatTabContactsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numContactsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatTabContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[c,{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[d]}],type:"User",abstractKey:null}],storageKey:null},{args:b,kind:"FragmentSpread",name:"MWChatTabActiveContacts_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatTabContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3021597557895177",metadata:{},name:"MWChatTabContactsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatTabSuggestedContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatTabSuggestedContact_profile",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Contact",abstractKey:null};e.exports=a}),null);
__d("MWChatTabSuggestedContactsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numContactsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"first",variableName:"numContactsToFetch"},{kind:"Literal",name:"orderby",value:["communication"]},{kind:"Literal",name:"without_memorialized",value:!0}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatTabSuggestedContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"MessengerContactsConnection",kind:"LinkedField",name:"messenger_contacts",plural:!1,selections:[{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_profile",plural:!1,selections:[c],storageKey:null},{args:null,kind:"FragmentSpread",name:"MWChatTabSuggestedContact_profile"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatTabSuggestedContactsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"MessengerContactsConnection",kind:"LinkedField",name:"messenger_contacts",plural:!1,selections:[{alias:null,args:null,concreteType:"Contact",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3196133200408787",metadata:{},name:"MWChatTabSuggestedContactsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("LSSuspense.bs",["Promise","bs_block"],(function(a,b,c,d,e,f){"use strict";var g=function(a){throw a};function a(a){return{contents:0}}function c(a){a.contents=0;return 0}function d(a,c){var d=a.contents;if(typeof d==="number"){c=c.then(function(c){a.contents=b("bs_block").__(1,[c]);return b("Promise").resolve(0)});a.contents=b("bs_block").__(0,[c]);return g(c)}else if(d.tag)return d[0];else return g(d[0])}f.$$throw=g;f.make=a;f.reset=c;f.getOrSuspend=d}),null);
__d("LSDatabaseDeferred.bs",["Promise","requireCond","QuickPerformanceLogger","MessengerWebQuickLogModule","cr:1656712"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1656712").db.then(function(a){b("QuickPerformanceLogger").markerPoint(b("MessengerWebQuickLogModule").LS_INIT,"db_created");return b("Promise").resolve(a)});f.$LSPersistedDatabaseDeferred$OR$LSEphemeralDatabaseDeferred$requireCond=b("cr:1656712");f.db=a}),null);
__d("LSEphemeralDatabaseDeferred.bs",["bs_curry","requireDeferred"],(function(a,b,c,d,e,f){"use strict";a=b("requireDeferred")("MWLSSchemaEphemeral.bs");c=a.load().then(function(a){return b("bs_curry")._1(a.createDB,0)});f.$MWLSSchemaEphemeral$Deferred=a;f.db=c}),null);
__d("BPlusTree.bs",["bs_curry","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function a(a){return function(a){return a.next().value}(a.entries())}function c(a,c,d){return b("bs_belt_Option").getExn((a.has(c)?a:a.set(c,b("bs_curry")._1(d,0))).get(c))}f.first=a;f.getOrMake=c}),null);
__d("JSMap.bs",["bs_curry","bs_belt_Option","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){d=d.has(a)?d:d.set(a,b("bs_curry")._1(c,0));return b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(d.get(a)))}f.getOrMake=a}),null);
__d("WeakMap.bs",["bs_curry","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("bs_belt_Option").getExn((a.has(c)?a:a.set(c,b("bs_curry")._1(d,0))).get(c))}f.getOrMake=a}),null);
__d("SkytaleDBQueryDependencyContext.bs",["WeakMap.bs"],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return new WeakMap()}function c(a){return b("WeakMap.bs").getOrMake(a,g,function(a){return[]})}function d(a,b){a.set(g,b);return 0}f.dependencyKey=g;f.make=a;f.getDependencies=c;f.setDependencies=d}),null);
__d("SkytaleDBQuery.bs",["bs_block","bs_curry","JSMap.bs","bs_js_exn","bs_js_dict","BPlusTree.bs","BPlusTree","bs_belt_Array","bs_caml_int32","bs_pervasives","bs_belt_Option","bs_caml_option","PromiseOrValue.bs","bs_caml_js_exceptions","CancellablePromise.bs","SortedAsyncIterable.bs","IndexedDbKeyComparer","SkytaleDBQueryDependencyContext.bs"],(function(a,b,c,d,e,f){"use strict";var g=window.Promise,h=function(a,b){return b instanceof a};function a(a){return h(g,a)}var i=function(a){throw a};function j(a,c,d){d=b("bs_js_dict").fromArray([["direction",d]]);d.iterator=a;d.subscribe=c;return d}function k(a){return b("SortedAsyncIterable.bs").Key.concat(a,[[[]],0])}function l(a){if(typeof a==="number")return;else{var b=a[0];if(b!==-467688003)if(b!==-179650181)if(b!==448478038)return;else return[a[1],a];else return[k(a[1]),a];else{b=a[1][0];if(typeof b==="number")return;else{a=b[0];if(a!==-179650181)if(a!==448478038)return;else return[b[1],b];else return[k(b[1]),b]}}}}function m(a){if(typeof a==="number")return;else{var b=a[0];if(b!==-555702441)if(b!==-467688003)if(b!==-214671526)return;else return[a[1],a];else{b=a[1][1];if(typeof b==="number")return;else{var c=b[0];if(c!==-555702441)if(c!==-214671526)return;else return[b[1],b];else return[k(b[1]),b]}}else return[k(a[1]),a]}}function n(a,c,d){a.forEach(function(a,e,f){e=a[0];f=e!==void 0?b("bs_belt_Option").mapWithDefault(l(e),!0,function(a){var d=a[0];if(a[1][0]>=448478038)return b("IndexedDbKeyComparer")(c,d)>=0;else return b("IndexedDbKeyComparer")(c,d)>0}):!0;e=e!==void 0?b("bs_belt_Option").mapWithDefault(m(e),!0,function(a){var d=a[0];if(a[1][0]>=-214671526)return b("IndexedDbKeyComparer")(c,d)<0;else return b("IndexedDbKeyComparer")(c,d)<=0}):!0;if(f&&e)return b("bs_curry")._1(d,a[1]);else return 0});return 0}function o(c,d){try{var e,f=b("SortedAsyncIterable.bs").context.contents,g=(e=b("SkytaleDBQueryDependencyContext.bs")).getDependencies(d);e.setDependencies(d,[]);b("SortedAsyncIterable.bs").context.contents=b("bs_caml_option").some(d);try{e=b("bs_curry")._1(c,0)}catch(a){b("SkytaleDBQueryDependencyContext.bs").setDependencies(d,g);b("SortedAsyncIterable.bs").context.contents=f;throw a}var h=b("SkytaleDBQueryDependencyContext.bs").getDependencies(d);return b("bs_block").__(1,[(b("SkytaleDBQueryDependencyContext.bs").setDependencies(d,g),b("SortedAsyncIterable.bs").context.contents=f,[e,h])])}catch(h){g=b("bs_caml_js_exceptions").internalToOCamlException(h);if(g[0]===b("bs_js_exn").$$Error){f=g[1];if(b("bs_curry")._1(a,f))return b("bs_block").__(0,[f.then(function(a){a=o(c,d);return a[0]})])}e=b("bs_caml_js_exceptions").caml_as_js_exn(g);if(e!==void 0)return i(b("bs_caml_option").valFromOption(e));else throw g}}function c(a,c){var d=new Map();return j(function(e,f){var g=b("bs_curry")._2(a.iterator,e,f);return{next:function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(g.next(a),function(a){if(a.done)return b("bs_block").__(0,[a]);else{var e=b("bs_belt_Option").getExn(a.value),f=e[0];if(b("bs_curry")._1(c,e[1])){n(d,f,function(a){a.add(JSON.stringify(f));return 0});return b("bs_block").__(0,[a])}else{n(d,f,function(a){a["delete"](JSON.stringify(f));return 0});return b("bs_block").__(1,[void 0])}}})},a)}}},function(e,f){var g={},h=new Set();d.set(g,[e,h]);var i=b("bs_curry")._2(a.subscribe,e,function(a,d,e){if(typeof d==="number")if(h.has(JSON.stringify(a))){h["delete"](JSON.stringify(a));return b("bs_curry")._3(f,a,0,e)}else return 0;else if(d.tag){var g=d[0];if(b("bs_curry")._1(c,g))if(h.has(JSON.stringify(a)))return b("bs_curry")._3(f,a,b("bs_block").__(1,[g]),e);else{h.add(JSON.stringify(a));return b("bs_curry")._3(f,a,b("bs_block").__(0,[g]),e)}else if(h.has(JSON.stringify(a))){h["delete"](JSON.stringify(a));return b("bs_curry")._3(f,a,0,e)}else return 0}else{g=d[0];if(b("bs_curry")._1(c,g)){h.add(JSON.stringify(a));return b("bs_curry")._3(f,a,b("bs_block").__(0,[g]),e)}else return 0}});return function(a){d["delete"](g);return b("bs_curry")._1(i,0)}},b("SortedAsyncIterable.bs").direction(a))}function d(a,c){var d=new Map(),e=function(a,d,e,g,h){var i=b("JSMap.bs").getOrMake(JSON.stringify(e),function(a){return[]},a);i.forEach(function(a){return b("bs_curry")._1(a,0)});i.length=0;h.forEach(function(h){i.push(b("bs_curry")._2(h.subscribe,void 0,function(h,i,j){return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(f(a,d,e,g,j),function(a){return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(d,e,b("bs_block").__(1,[b("bs_curry")._1(c,g)]),j))})))}));return 0});return 0},f=function(a,d,f,g,h){return b("PromiseOrValue.bs").map(o(function(a){return b("bs_curry")._1(c,g)},h),function(b){e(a,d,f,g,b[1]);return b[0]})},g=function(a,c){c=b("JSMap.bs").getOrMake(JSON.stringify(c),function(a){return[]},a);c.forEach(function(a){return b("bs_curry")._1(a,0)});c.length=0;return 0};return j(function(f,g){var h=b("bs_curry")._2(a.iterator,f,g);return{next:function(a){return b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(h.next(a),function(f){if(f.done)return b("bs_block").__(1,[{done:!0,value:void 0}]);else{f=b("bs_belt_Option").getExn(f.value);var h=f[1],a=f[0];return b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").map(o(function(a){return b("bs_curry")._1(c,h)},g),function(b){var c=b[1];n(d,a,function(b){return e(b[0],b[1],a,h,c)});return b[0]}),function(b){return{done:!1,value:[a,b]}})}}))}}},function(e,h){var i={},j=new Map();d.set(i,[e,[j,h]]);var k=b("bs_curry")._2(a.subscribe,e,function(a,d,e){if(typeof d==="number"){g(j,a);return b("bs_curry")._3(h,a,0,e)}else if(d.tag){var i=d[0];return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(f(j,h,a,i,e),function(d){b("bs_curry")._1(c,i);return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(h,a,b("bs_block").__(1,[d]),e))})))}else{var k=d[0];return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(f(j,h,a,k,e),function(d){b("bs_curry")._1(c,k);return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(h,a,b("bs_block").__(0,[d]),e))})))}});return function(a){j.forEach(function(a,c,d){a.forEach(function(a){return b("bs_curry")._1(a,0)});return 0});d["delete"](i);return b("bs_curry")._1(k,0)}},b("SortedAsyncIterable.bs").direction(a))}function p(a){var c=[],d=b("SortedAsyncIterable.bs").iterator(a);a=function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(d.next(void 0),function(a){if(a.done)return b("bs_block").__(0,[c]);else{c.push(b("bs_belt_Option").getExn(a.value)[1]);return b("bs_block").__(1,[0])}})},a)};return b("PromiseOrValue.bs").toPromise(a(0))}function e(a,c){return j(function(d,e){var f=b("bs_curry")._2(a.iterator,d,e),g=b("bs_curry")._2(c.iterator,d,e),h=function(a){return b("PromiseOrValue.bs").loop(function(a){var c=a[1];a=a[0];if(a.done||c.done)return b("bs_block").__(1,[b("bs_block").__(0,[{done:!0,value:void 0}])]);else{var d=b("bs_belt_Option").getExn(a.value),e=d[0],h=b("bs_belt_Option").getExn(c.value),i=h[0],j=b("IndexedDbKeyComparer")(e,i);if(j>0)return b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").all2(b("bs_block").__(1,[a]),g.next(e)),function(a){return b("bs_block").__(1,[a])});else if(j<0)return b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").all2(f.next(i),b("bs_block").__(1,[c])),function(a){return b("bs_block").__(1,[a])});else return b("bs_block").__(1,[b("bs_block").__(0,[{done:!1,value:[e,[d[1],h[1]]]}])])}},a)};return{next:function(a){return b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").all2(f.next(a),g.next(a)),h))}}},function(d,e){var f={contents:!0},g=function(a,c,d,g,h,i){return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(b("bs_curry")._2(a.iterator,[-467688003,[[448478038,g],[-555702441,g]]],i).next(void 0),function(a){if(!a.done&&f.contents){a=b("bs_belt_Option").getExn(a.value);var j=a[1];j=typeof h==="number"?0:h.tag?b("bs_block").__(1,[b("bs_curry")._2(d,h[0],j)]):b("bs_block").__(0,[b("bs_curry")._2(d,h[0],j)]);return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(e,b("bs_curry")._1(c,[g,a[0]]),j,i))}else return b("bs_block").__(1,[0])})))},h=b("bs_curry")._2(a.subscribe,d,function(a,b,d){return g(c,function(a){return a[0]},function(a,b){return[a,b]},a,b,d)}),i=b("bs_curry")._2(c.subscribe,d,function(b,c,d){return g(a,function(a){return a[1]},function(a,b){return[b,a]},b,c,d)});return function(a){f.contents=!1;b("bs_curry")._1(h,0);return b("bs_curry")._1(i,0)}},b("SortedAsyncIterable.bs").direction(a))}function q(a,c){var d=function(a,c,d){if(a!==void 0){a=a;var e=a[1];if(c!==void 0){var f=c;if(b("bs_caml_int32").imul(b("IndexedDbKeyComparer")(a[0],f[0]),d)>0)return b("bs_caml_option").some(e);else return b("bs_caml_option").some(f[1])}else return b("bs_caml_option").some(e)}else if(c!==void 0)return b("bs_caml_option").some(c[1]);else return},e=function(a,b){if(b!==void 0){b=b;var c=d(l(b),l(a),1);b=d(m(b),m(a),-1);if(c!==void 0){c=c;if(b!==void 0)return[-467688003,[c,b]];else return c}else if(b!==void 0)return b;else return}else return a};return j(function(d,f){return b("bs_curry")._2(a.iterator,e(c,d),f)},function(d,f){return b("bs_curry")._2(a.subscribe,e(c,d),f)},b("SortedAsyncIterable.bs").direction(a))}function r(a,c){var d=[448478038,c],e=[-555702441,c],f=function(a){if(a[0]>=448478038)return[448478038,b("SortedAsyncIterable.bs").Key.concat(c,a[1])];else return[-179650181,b("SortedAsyncIterable.bs").Key.concat(c,a[1])]},g=function(a){if(a[0]>=-214671526)return[-214671526,b("SortedAsyncIterable.bs").Key.concat(c,a[1])];else return[-555702441,b("SortedAsyncIterable.bs").Key.concat(c,a[1])]},h=function(a){if(a!==void 0){a=a;var b=a[0];if(b!==-467688003)b=b>=-179650181?[-467688003,[f(a),e]]:[-467688003,[d,g(a)]];else{a=a[1];b=[-467688003,[f(a[0]),g(a[1])]]}}else b=[-467688003,[d,e]];return b};return j(function(d,e){var f=b("bs_curry")._2(a.iterator,h(d),e);return{next:function(a){return b("PromiseOrValue.bs").map(f.next(b("bs_belt_Option").map(a,function(a){return b("SortedAsyncIterable.bs").Key.concat(c,a)})),function(a){return{done:a.done,value:b("bs_belt_Option").map(a.value,function(a){return[b("SortedAsyncIterable.bs").Key.strip(a[0],c),a[1]]})}})}}},function(d,e){return b("bs_curry")._2(a.subscribe,h(d),function(a,d,f){return b("bs_curry")._3(e,b("SortedAsyncIterable.bs").Key.strip(a,c),d,f)})},b("SortedAsyncIterable.bs").direction(a))}function s(a,c){var d=new Map();return j(function(e,f){var g=b("bs_curry")._2(a.iterator,e,f),h={contents:0};return{next:function(a){if(h.contents>=c)return b("bs_block").__(1,[{done:!0,value:void 0}]);else return b("PromiseOrValue.bs").map(g.next(a),function(e){if(!e.done){var f=b("bs_belt_Option").getExn(e.value),a=f[0];n(d,a,function(b){var d=b[1];if(d.contents<=c){d.contents=d.contents+1|0;b[0].set(a,0);return 0}else return 0})}h.contents=h.contents+1|0;return e})}}},function(e,f){var g={},h=b("SortedAsyncIterable.bs").direction(a),i;switch(h){case"asc":i=1;break;case"desc":i=-1;break;default:i=b("bs_pervasives").failwith("unexpected direction")}var j=b("BPlusTree")(function(a,c){return b("bs_caml_int32").imul(b("IndexedDbKeyComparer")(a,c),-i|0)}),k={contents:0};d.set(g,[e,[j,k]]);var l=b("bs_curry")._2(a.subscribe,e,function(e,h,l){var m=b("bs_belt_Option").map(b("BPlusTree.bs").first(j),function(a){return a[0]}),n=b("bs_belt_Option").mapWithDefault(m,!0,function(a){return b("bs_caml_int32").imul(b("IndexedDbKeyComparer")(e,a),i)<=0});if(typeof h==="number")if(n){var o;j["delete"](e);var p=window.Promise.resolve(0);return(o=b("PromiseOrValue.bs")).toPromise(o.flatten(o.map(o.flatten(o.map(o.fromPromise(p.then(function(a){return b("bs_curry")._3(f,e,0,l)})),function(c){return b("bs_curry")._2(a.iterator,b("bs_belt_Option").map(m,function(a){if(i!==1)return[-214671526,a];else return[-179650181,a]}),l).next(void 0)})),function(c){if(!c.done&&d.has(g)){c=b("bs_belt_Option").getExn(c.value);var a=c[0];j.set(a,0);return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(f,a,b("bs_block").__(0,[c[1]]),l))}else{k.contents=k.contents-1|0;return b("bs_block").__(1,[0])}})))}else return 0;else if(h.tag)if(n)return b("bs_curry")._3(f,e,h,l);else return 0;else if(k.contents<c){k.contents=k.contents+1|0;j.set(e,0);return b("bs_curry")._3(f,e,h,l)}else if(n){if(m!==void 0){var q=m;j["delete"](q);o=window.Promise.resolve(0);p=o.then(function(a){return b("bs_curry")._3(f,q,0,l)})}else p=window.Promise.resolve(0);return p.then(function(a){j.set(e,0);return b("bs_curry")._3(f,e,h,l)})}else return 0});return function(a){d["delete"](g);return b("bs_curry")._1(l,0)}},b("SortedAsyncIterable.bs").direction(a))}function t(a){return p(s(a,1)).then(function(a){return b("bs_belt_Array").get(a,0)})}function u(a){return p(s(a,1)).then(function(a){return b("bs_belt_Array").getExn(a,0)})}function v(a,c){return j(function(d,e){var f=b("bs_curry")._2(a.iterator,d,e);return{next:function(a){a=f.next(a);if(a.tag)return a;else return b("bs_block").__(0,[b("CancellablePromise.bs").then_(c,function(a){return a},a[0])])}}},a.subscribe,b("SortedAsyncIterable.bs").direction(a))}f.filter=c;f.map=d;f.toArray=p;f.mergeJoin=e;f.bounds=q;f.getKeyRange=r;f.take=s;f.first=t;f.firstExn=u;f.makeCancellable=v}),null);
__d("SkytaleDBExec.bs",["bs_block","bs_curry","bs_belt_Array","LSSuspense.bs","bs_belt_Option","bs_caml_option","PromiseOrValue.bs","SkytaleDBQuery.bs","SortedAsyncIterable.bs","SkytaleDBQueryDependencyContext.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("SortedAsyncIterable.bs").context.contents;if(c!==void 0){c=b("bs_caml_option").valFromOption(c);b("SkytaleDBQueryDependencyContext.bs").getDependencies(c).push(a);return c}else return b("SkytaleDBQueryDependencyContext.bs").make(0)}function h(a){var c=[],d=b("bs_curry")._2(a.iterator,void 0,g(a));a=function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(d.next(void 0),function(a){if(a.done)return b("bs_block").__(0,[c]);else{c.push(b("bs_belt_Option").getExn(a.value)[1]);return b("bs_block").__(1,[0])}})},a)};a=a(0);if(a.tag)return a[0];else return b("LSSuspense.bs").$$throw(a[0])}function a(a){return b("bs_belt_Array").get(h(b("SkytaleDBQuery.bs").take(a,1)),0)}function c(a){return b("bs_belt_Array").getExn(h(b("SkytaleDBQuery.bs").take(a,1)),0)}f.toArray=h;f.first=a;f.firstExn=c}),null);
__d("SkytaleDBHook.bs",["LSSuspense.bs","LSDatabaseDeferred.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("LSSuspense.bs").make(0);function a(a){return b("LSSuspense.bs").getOrSuspend(g,b("LSDatabaseDeferred.bs").db)}f.db=g;f.useHook=a}),null);
__d("SkytaleDBQuerySubscriptionHook.bs",["Promise","bs_block","bs_curry","React","BPlusTree","bs_belt_Array","LSSuspense.bs","bs_belt_Option","bs_caml_option","SkytaleDBExec.bs","SkytaleDBHook.bs","PromiseOrValue.bs","SkytaleDBQuery.bs","SortedAsyncIterable.bs","IndexedDbKeyComparer"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=function(b){return Array.from(a.direction==="asc"?b.entries():b.entries({dir:"desc"})).map(function(a){return a[1]})},d=g.useMemo(function(){var c=a,d=b("BPlusTree")(b("IndexedDbKeyComparer")),e=b("SortedAsyncIterable.bs").iterator(c);c=function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(e.next(void 0),function(a){if(a.done)return b("bs_block").__(0,[d]);else{a=b("bs_belt_Option").getExn(a.value);d.set(a[0],a[1]);return b("bs_block").__(1,[0])}})},a)};c=c(0);if(c.tag)return c[0];else return b("LSSuspense.bs").$$throw(c[0])},[a]),e=g.useState(function(){return c(d)}),f=e[1],h=g.useRef(!1),i=b("SkytaleDBHook.bs").useHook(0);g.useEffect(function(){var e=b("SortedAsyncIterable.bs").subscribe(a,function(a,b){typeof b==="number"?d["delete"](a):d.set(a,b[0]);h.current=!0;return 0}),g=i.subscribeToCommit(function(a){if(h.current){h.current=!1;return b("bs_curry")._1(f,function(a){return c(d)})}else return 0});try{b("bs_curry")._1(f,function(c){return b("SkytaleDBExec.bs").toArray(a)})}catch(a){}return function(a){b("bs_curry")._1(g,0);return b("bs_curry")._1(e,0)}},[a,i,h]);return e[0]}function i(a){var c=g.useMemo(function(){return b("SkytaleDBQuery.bs").take(a,1)},[a]);return b("bs_belt_Array").get(h(c),0)}function a(a){return b("bs_belt_Option").getExn(i(a))}function c(a){a=i(a);if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return b("LSSuspense.bs").$$throw(new(b("Promise"))(function(a,b){return 0}))}f.useArray=h;f.useFirst=i;f.useFirstExn=a;f.useFirstOrSuspend_DANGEROUS=c}),null);
__d("MWLSThreadHasMoreMessages.bs",["React","SkytaleDB","bs_belt_Option","MWThreadKey.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0),d=b("MWThreadKey.bs").useIdMemoizedExn(0);return b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"messages_ranges_v2__generated").asc,[d,0]),function(a){return a.h})},[d,c])),!1)}f.useThreadHasMoreMessages=a}),null);
__d("MWChatBusinessNullStateCTAWrapper.bs",["React","JSResource","BootloaderResource"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("JSResource")("MWChatBusinessNullStateCTA.bs").__setRef("MWChatBusinessNullStateCTAWrapper.bs");function i(a,b,c,d){return{nullStateCTA:a,onSend:b,pageName:c}}function j(a){return g.createElement(b("BootloaderResource").read(h).make,a)}c={reasonResource:h,makeProps:i,make:j};function a(a){var b=a.nullStateCTA,c=a.onSend;a=a.pageName;return g.jsx(g.Suspense,{children:g.jsx(j,i(b,c,a,0)),fallback:null})}d=a;f.LazyMWChatBusinessNullStateCTA=c;f.make=d}),null);
__d("MWChatThread.bs",["fbt","React","MWTheme.bs","stylex","bs_caml_option","requireCond","MWChatThreadPos.bs","MWUIQuickReplies.bs","tabbableScopeQuery","MWChatThreadContext.bs","MWChatUnreadIndicator.bs","MWLSThreadHasMoreMessages.bs","CometHeroHoldTrigger.react","BaseHeadingContextWrapper.re","MWChatMessageListTabbableRow.bs","MWChatMessageTableFocusTable.bs","MWChatViewerChatVisibilityHook","VideoPlayerAutoplayRulesProvider","CometProgressRingIndeterminate.react","MWChatConversationScroller_DEPRECATED.bs","VideoAutoplayLocalScopeProvider.react","cr:1590612","cr:1667445"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=g._("Mensajes"),k={spacer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr"},mask:{backgroundColor:"nred35xi"},separator:{marginBottom:"n851cfcs",marginTop:"n1l5q3vz",marginStart:"f9o22wc5",marginEnd:"ad2k81qe",height:"ay7djpcl",width:"kv0qyzoi",backgroundColor:"ifff9tsu"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",minHeight:"sn7ne77z"}};c={};d={};function a(a){var c=a.id,d=a.items,e=a.isScrolledToBottomRef,f=a.setCovidSheet,g=a.dispatch,l=a.icebreakerUI,m=a.contextBannerData,n=a.welcomePageData,o=a.managePageMessagesLink,p=a.spacerRef,q=a.scrollerRef,r=a.buildSharedMediaViewerURL;a=l!==void 0?b("bs_caml_option").valFromOption(l):null;var s=o!==void 0?b("bs_caml_option").valFromOption(o):null,t=b("MWTheme.bs").useTheme(0);l=b("MWChatThreadPos.bs").useThreadPosition(0);var u=l[0];o=b("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("default_feed");var v=b("MWLSThreadHasMoreMessages.bs").useThreadHasMoreMessages(0),w=d.map(function(a,c){if(typeof a==="number")return i.jsx("div",{className:(h||(h=b("stylex")))(k.separator,b("MWTheme.bs").isGradient(t)?k.mask:!1)},String(c));else{var d=a[0];if(d!==246387948)if(d>=690954465)return i.jsx(b("BaseHeadingContextWrapper.re").make,{children:i.jsx(b("cr:1590612").make,{pos:u,items:a[1],managePageMessagesLink:s,dispatch:function(a){return g(a)},setCovidSheet:f,buildSharedMediaViewerURL:r})},String(c));else{d=a[1];return i.jsx(b("MWChatMessageListTabbableRow.bs").make,{children:i.jsx(b("MWChatUnreadIndicator.bs").make,{dispatch:g,unreadCount:d[0],hasScrolledRef:d[1]})},"unread-indicator")}else return i.jsx(b("BaseHeadingContextWrapper.re").make,{children:i.jsx(b("cr:1590612").make,{pos:u,items:a[1],managePageMessagesLink:s,dispatch:function(a){return g(a)},setCovidSheet:f,buildSharedMediaViewerURL:r})},String(c))}}),x;if(d.length!==1)x=!1;else{d=d[0];x=typeof d==="number"||d[0]!==246387948?!1:d[1].length===0}d=b("MWChatViewerChatVisibilityHook")();return i.jsx(b("VideoAutoplayLocalScopeProvider.react"),{children:i.jsxs(b("MWChatConversationScroller_DEPRECATED.bs").make,{children:[i.jsx(b("MWChatThreadContext.bs").make,{id:c,contextBannerData:m,welcomePageData:n}),i.jsx("div",{ref:p,className:(h||(h=b("stylex")))(k.spacer,b("MWTheme.bs").isGradient(t)?k.mask:!1)}),i.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatTab",hold:x&&v}),x?v?i.jsx("div",{children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}),className:(h||(h=b("stylex")))(k.spinner,k.mask)}):null:i.jsx(b("MWChatMessageTableFocusTable.bs").keyCommands,{children:i.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("tabbableScopeQuery"),wrapX:!0,wrapY:!1,children:i.jsx(b("BaseHeadingContextWrapper.re").make,{children:i.jsx("div",{children:w,"aria-label":j,role:"grid"})})})}),d?i.jsx(b("cr:1667445").make,{}):null,a,i.jsx(b("MWUIQuickReplies.bs").make,{})],boundingClientRectRef:l[1],isScrolledToBottomRef:e,dispatch:function(a){switch(a){case 0:return g(-447262787);case 1:return g(-1023538157);case 2:return g(-1037436819)}},ref:q}),autoplayLocalRules:o})}e=b("cr:1590612");g=b("cr:1667445");a=a;f.messagesFbt=j;f.styles=k;f.VideoAutoplayLocalScopeProvider=c;f.VideoPlayerAutoplayRulesProvider=d;f.$ChatGeminiMessageList$OR$MWChatMessageList$requireCond=b("cr:1590612");f.MessageList=e;f.$ChatGeminiTypingIndicators$OR$MWChatTypingIndicators$requireCond=b("cr:1667445");f.TypingIndicators=g;f.make=a}),null);
__d("MWChatTabContent.bs",["bs_curry","React","MWTheme.bs","JSResource","bs_caml_option","MWChatThread.bs","MWChatComposer.bs","MWUIThreadEmoji.bs","MessengerWebEvent","BootloaderResource","MWChatEmptyComposer.bs","MWChatSolidReaction.bs","MWChatTabContentStyles.bs","MWChatLeftGroupComposer.bs","MWChatDisabledPageComposer.bs","MWChatThreadAnimationWrapper.bs","MessengerWebStgTypedLoggerLite.bs","MWChatBusinessNullStateCTAWrapper.bs","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=(g=b("JSResource"))("MWChatBlockedComposer.bs").__setRef("MWChatTabContent.bs");function a(a,b,c){return{fbid:a,reportingToken:b}}function j(a){return h.createElement(b("BootloaderResource").read(i).make,a)}a={reasonResource:i,makeProps:a,make:j};var k=g("MWChatBlockedPageComposer.bs").__setRef("MWChatTabContent.bs");function c(a,b,c){return{fbid:a,reportingToken:b}}function l(a){return h.createElement(b("BootloaderResource").read(k).make,a)}c={reasonResource:k,makeProps:c,make:l};var m=g("MWChatComposerV2.bs").__setRef("MWChatTabContent.bs");function n(a,c,d,e,f,g,h,i){i={isTabFocused:a,color:d,actionTrayOpen:f,closeActionTray:g,openActionTray:h};c!==void 0&&(i.trayButtons=b("bs_caml_option").valFromOption(c));e!==void 0&&(i.onEditorChange=b("bs_caml_option").valFromOption(e));return i}function o(a){return h.createElement(b("BootloaderResource").read(m).make,a)}var p={reasonResource:m,makeProps:n,make:o},q=g("MWChatWorkMessageRequestComposer.bs").__setRef("MWChatTabContent.bs");function d(a,b){return{closeTab:a}}function r(a){return h.createElement(b("BootloaderResource").read(q).make,a)}g={reasonResource:q,makeProps:d,make:r};function e(a){var c=a.id,d=a.items,e=a.otherUserFbid,f=a.contextBannerData,g=a.welcomePageData,i=a.isTabFocused,k=a.isScrolledToBottomRef,m=a.initialComposerViewState,p=a.scrollerRef,q=a.shouldShowMenu,s=a.composerType,t=a.dispatch,u=a.closeTab,v=a.endFirstChatTabOpenLoggerRef,w=a.icebreakerUI,x=a.managePageMessagesLink,y=a.hasContent,z=a.repliedToMessage,A=a.buildSharedMediaViewerURL,B=a.messageRequestInfoText,C=a.sendTypingIndicator,D=a.closeReplyPreview,E=a.onSendMessage,F=w!==void 0?b("bs_caml_option").valFromOption(w):null,G=b("MWTheme.bs").useTheme(0);a=b("MWChatSolidReaction.bs").useUook(0);var H=a[1],I;if(typeof s==="number")switch(s){case 0:case 5:I=!0;break;default:I=!1}else switch(s.tag|0){case 0:case 1:I=!1;break;default:I=!1}h.useEffect(function(){if(!v.current){v.current=!0;var a;if(typeof c==="number")a=null;else{var d=c[0];a=d!==892012143&&d!==948354667?null:c[1]}b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").RENDER_FIRST_THREAD_CONTENT,other_user_fbid:a,thread_fbid:typeof c==="number"||c[0]!==757211935?null:c[1]})}return},[v,c]);var J=function(a){if(k.current===0){a=p.current;if(a==null)return 0;else return a.scrollToBottom()}else return 0},K=function(a){return J(0)},L=function(a){return J(0)};return h.jsx(b("MWChatThreadAnimationWrapper.bs").make,{composer:function(a,d,f,g){a=a;d=d;f=f;g=g;var k=b("bs_curry")._1(b("MWUIThreadEmoji.bs").useEmoji,0);if(typeof s==="number")switch(s){case 0:k={color:b("MWTheme.bs").bottom(G),otherUserFbid:e,customLikeEmoji:k,isTabFocused:i,shouldShowMenu:q,hasContent:y,repliedToMessage:z,actionTrayOpen:g,closeActionTray:d,onContentsChange:K,onFileUploadStart:L,openActionTray:a,fileUploadHandlerRef:f,closeReplyPreview:D,openTabFromPreview:function(a){return t(-1006227213)},closeTab:u,onSendMessage:E};m!==void 0&&(k.initialComposerViewState=b("bs_caml_option").valFromOption(m));B!==void 0&&(k.messageRequestInfoText=b("bs_caml_option").valFromOption(B));C!==void 0&&(k.onTypingStateChanged=b("bs_caml_option").valFromOption(C));return h.jsx(b("MWChatComposer.bs").make,k);case 1:return h.jsx(b("MWChatDisabledPageComposer.bs").make,{});case 2:return h.jsx(b("MWChatLeftGroupComposer.bs").make,{});case 3:return h.jsx(h.Suspense,{children:h.jsx(r,{closeTab:u}),fallback:null});case 4:return h.jsx(b("MWChatEmptyComposer.bs").make,{});case 5:return h.jsx(h.Suspense,{children:h.jsx(o,n(i,[],b("MWTheme.bs").bottom(G),K,g,d,a,0)),fallback:null})}else switch(s.tag|0){case 0:return h.jsx(h.Suspense,{children:h.jsx(j,{fbid:s[0],reportingToken:s[1]}),fallback:null});case 1:return h.jsx(h.Suspense,{children:h.jsx(l,{fbid:s[0],reportingToken:s[1]}),fallback:null});case 2:var p=s[0];return h.jsx(b("MWChatBusinessNullStateCTAWrapper.bs").make,{nullStateCTA:p,onSend:function(a){t([501431055,[p.action_title,{cta_id:p.id,prev_message_id:void 0,force_handle:!0,ref:void 0,postback_cta_ref_source:void 0}]]);if(typeof c==="number"||c[0]!==892012143)return 0;else{var d=c[1];b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:d}}});return 0}},pageName:s[1]})}},threadView:function(a){a=a;return h.jsx(b("MWChatThread.bs").make,{id:c,items:d,isScrolledToBottomRef:k,setCovidSheet:H,dispatch:t,icebreakerUI:F,contextBannerData:f,welcomePageData:g,managePageMessagesLink:x,spacerRef:a,scrollerRef:p,buildSharedMediaViewerURL:A})},animationEnabled:I,ensureScrolledToBottom:J,covidSheet:a[0],mediaDropDisabled:s!==0,id:c,contextBannerData:f,welcomePageData:g})}d=b("MWChatTabContentStyles.bs").styles;e=e;f.MWChatBlockedComposerLazy=a;f.MWChatBlockedPageComposerLazy=c;f.MWChatComposerV2Lazy=p;f.MWChatWorkMessageRequestComposerLazy=g;f.styles=d;f.make=e}),null);
__d("MWChatTabContentNew.bs",["bs_curry","React","MWTheme.bs","stylex","bs_caml_option","MWChatComposer.bs","MWUIThreadEmoji.bs","MWChatTabContent.bs","MWUIChatThreadHook.bs","MWUIChatContextBanner.bs","MWUILoadThreadPicture.bs","MWChatThread_DEPRECATED.bs","MWChatComposerMediaDropTarget.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a){var c=a.id,d=a.contextBannerData,e=a.items,f=a.dispatch,i=a.closeTab,j=a.otherUserFbid,k=a.customLikeEmoji,l=a.isTabFocused,m=a.hasContent,n=a.repliedToMessage,o=a.buildSharedMediaViewerURL,p=a.closeReplyPreview;a=a.onSendMessage;var q=b("MWTheme.bs").useTheme(0),r=h.useRef(0),s=h.useState(function(){return!1}),t=s[1],u=h.useRef(null),v=h.useRef(null),w=h.useRef(null),x;x=q.tag?{backgroundImage:b("MWTheme.bs").gradient(void 0,void 0,q[0].colors)}:void 0;c={children:h.jsx(b("MWChatThread_DEPRECATED.bs").make,{id:c,items:e,isScrolledToBottomRef:r,dispatch:f,contextBannerData:d,welcomePageData:void 0,spacerRef:v,scrollerRef:u,buildSharedMediaViewerURL:o}),className:(g||(g=b("stylex")))(b("MWChatTabContent.bs").styles.thread)};x!==void 0&&(c.style=b("bs_caml_option").valFromOption(x));return h.jsx(h.Fragment,{children:h.jsx("div",{children:h.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[h.jsx("div",c),h.jsx("div",{children:h.jsx(b("MWChatComposer.bs").make,{color:b("MWTheme.bs").bottom(q),otherUserFbid:j,isPreviewThread:!0,customLikeEmoji:k,isTabFocused:l,shouldShowMenu:!1,hasContent:m,repliedToMessage:n,actionTrayOpen:s[0],closeActionTray:function(a){return b("bs_curry")._1(t,function(a){return!1})},openActionTray:function(a){return b("bs_curry")._1(t,function(a){return!0})},fileUploadHandlerRef:w,closeReplyPreview:p,openTabFromPreview:function(a){return f(-1006227213)},closeTab:i,onSendMessage:a}),className:g(b("MWChatTabContent.bs").styles.composer)})],disabled:!1,fileUploadHandler:b("bs_caml_option").nullable_to_opt(w.current),xstyle:b("MWChatTabContent.bs").styles.dropTarget}),className:g(b("MWChatTabContent.bs").styles.main)})})}c={make:i};function a(a){var c=a.id,d=a.isTabFocused,e=a.dispatch,f=a.closeTab,g=a.messages,j=a.hasContent,k=a.changeRepliedToMessage,l=a.repliedToMessage,m=a.buildSharedMediaViewerURL,n=a.closeReplyPreview;a=a.onSendMessage;b("bs_curry")._1(b("MWUIChatThreadHook.bs").useThread,c);var o=b("bs_curry")._1(b("MWUILoadThreadPicture.bs").useHook,0);o=b("bs_curry")._4(b("MWUIChatContextBanner.bs").useContextBanner,c,o,!0,void 0);var p;if(typeof c==="number")p=void 0;else{var q=c[0];p=q!==892012143&&q!==948354667?void 0:b("bs_caml_option").some(c[1])}q=b("bs_curry")._1(b("MWUIThreadEmoji.bs").useEmoji,0);var r=function(a){if(typeof a==="number"||a[0]!==-445185539)return e(a);else return b("bs_curry")._1(k,a[1])};return h.jsx(i,{id:c,contextBannerData:o,items:g,dispatch:r,closeTab:f,otherUserFbid:p,customLikeEmoji:q,isTabFocused:d,hasContent:j,repliedToMessage:l,buildSharedMediaViewerURL:m,closeReplyPreview:n,onSendMessage:a})}d=b("MWChatTabContent.bs").styles;e=a;f.styles=d;f.Inner=c;f.make=e}),null);
__d("MWChatTabNew.bs",["bs_curry","React","MWTheme.bs","MWUITheme.bs","stylex","bs_belt_Option","bs_caml_option","MWThreadKey.bs","requireCond","MWChatComposer.bs","MWUIChatTabState.bs","MWChatTabContentNew.bs","MWThread_DEPRECATED.bs","MWUIRepliedToMessage.bs","recoverableViolation","CometPlaceholder.react","MWChatTabContentStyles.bs","MWUILoadThreadMessages.bs","unrecoverableViolation","MWChatConnectionStatusCard.bs","MWChatComposerMediaDropTarget.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","cr:1537918"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a){a.tokens;var c=a.hasContent,d=a.isTabFocused,e=a.openTabForGroup;a=function(a){if(typeof a==="number"||a[0]!==757211935){b("recoverableViolation")("expected group","messenger_web_product");return 0}else return b("bs_curry")._1(e,a[1])};var f=h.useRef(null);return h.jsx("div",{children:h.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[h.jsx("div",{className:(g||(g=b("stylex")))(b("MWChatTabContentStyles.bs").styles.thread)}),h.jsx("div",{children:h.jsx(b("MWChatComposer.bs").make,{color:b("MWTheme.bs").bottom(b("MWTheme.bs").$$default),otherUserFbid:void 0,isPreviewThread:!0,customLikeEmoji:void 0,isTabFocused:d,shouldShowMenu:!1,hasContent:c,repliedToMessage:void 0,actionTrayOpen:!1,closeActionTray:function(a){return 0},openActionTray:function(a){return 0},fileUploadHandlerRef:f,closeReplyPreview:function(a){return 0},openTabFromPreview:function(a){return 0},closeTab:function(a){return 0},onSendMessage:a}),className:g(b("MWChatTabContentStyles.bs").styles.composer)})],disabled:!1,fileUploadHandler:b("bs_caml_option").nullable_to_opt(f.current),xstyle:b("MWChatTabContentStyles.bs").styles.dropTarget}),className:g(b("MWChatTabContentStyles.bs").styles.main)})}c={make:i};function j(a){var c=a.isTabFocused,d=a.hasContent,e=a.openTabForGroup,f=a.openTabForUser,g=a.openTabForPage,i=b("MWThread_DEPRECATED.bs").useIdExn(0);a=b("bs_curry")._1(b("MWUIRepliedToMessage.bs").useCurrentlyRepliedToMessage,0);var j=a[2],k=function(a){var c=a[0];if(c>=892012143)if(c>=948354667)return b("bs_curry")._1(f,a[1]);else return b("bs_curry")._1(g,a[1]);else if(c>=757211935)return b("bs_curry")._1(e,a[1]);else return b("unrecoverableViolation")("Not supported","messenger_web_product")},l=function(a,c){if(c)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:a.photo_ids,fbid:a.fbid,message_id:a.message_id});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:i[1],attachment_id:a.fbid,message_id:a.message_id})},m=h.useState(function(){return}),n=m[1];m=[[246387948,b("bs_curry")._1(b("MWUILoadThreadMessages.bs").useMessageItems,0)]];var o=b("bs_curry")._1(b("MWUITheme.bs").useTheme,0);return h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("MWTheme.bs").provider,{theme:o,children:h.jsx(b("MWChatTabContentNew.bs").make,{id:i,isTabFocused:c,dispatch:function(a){a=a;if(typeof a==="number")if(a!==-1006227213)if(a>=-141840458)return b("bs_curry")._1(j,0);else return 0;else return k(i);else return 0},closeTab:function(a){return 0},messages:m,hasContent:d,changeRepliedToMessage:a[1],repliedToMessage:a[0],buildSharedMediaViewerURL:l,closeReplyPreview:function(a){return b("bs_curry")._1(n,function(a){return})},onSendMessage:k})}),fallback:null})}d={make:j};function a(a){var c=a.previewThreadID,d=a.isSearchView,e=a.isTabFocused,f=a.isFetching,g=a.hasContent,k=a.onOpenPreviewForUser,l=a.setTokens,m=a.tokens,n=a.openTabForUser,o=a.openTabForGroup;a=a.openTabForPage;if(f)f=null;else if(c!==void 0){c=c;f=h.jsx(b("MWThread_DEPRECATED.bs").make,{id:c,children:h.jsx(b("MWThreadKey.bs").make,{id:b("MWThread_DEPRECATED.bs").toThreadKey(c),children:h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:[c],children:h.jsx(j,{isTabFocused:e,hasContent:g,openTabForGroup:o,openTabForUser:n,openTabForPage:a})})})})}else f=m.length!==0?h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:0,tokenProvider:function(a){return m.map(function(a){return a.getRawData().id})},children:h.jsx(i,{tokens:m,hasContent:g,isTabFocused:e,openTabForGroup:o})}):b("cr:1537918")==null||d?null:h.jsx(b("cr:1537918").make,{onOpenPreviewForUser:k,setTokens:l});return h.jsxs(h.Fragment,{children:[h.jsx(b("MWChatConnectionStatusCard.bs").make,{}),f]})}e=b("bs_belt_Option").getWithDefault;var k=b("MWChatTabContentStyles.bs").styles;a=a;f.$MWChatTabContacts$OR$null$requireCond=b("cr:1537918");f.$pipe$question=e;f.contentStyles=k;f.ComposerToCreateNewThread=c;f.ExistingThreadPreview=d;f.make=a}),null);
__d("MWChatTabActiveContact.react",["CometRelay","React","TetraListCell.react","getMWThreadAddOnPrimary","recoverableViolation","MWChatTabActiveContact_profile.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.addTokenForContact,d=a.onOpenPreviewForUser;a=a.profile;a=b("CometRelay").useFragment(g!==void 0?g:g=b("MWChatTabActiveContact_profile.graphql"),a);var e=a.availability,f=a.id,i=a.last_active_time,j=a.name;a=a.profile_picture;var k=a==null?void 0:a.uri;if(f==null)return b("recoverableViolation")("Chat contact list cell is missing id","comet_ui");if(j==null)return b("recoverableViolation")("Chat contact list cell is missing name","comet_ui");if(k==null)return b("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui");a=e==="ACTIVE";e=b("getMWThreadAddOnPrimary")([k],j,a,36,i);return h.jsx(b("TetraListCell.react"),{addOnPrimary:e,disabled:!1,headline:j,level:4,onPress:function(){c({id:f,name:j,profileUri:k}),d(f)},selected:!1,testid:void 0})}}),null);
__d("MWChatTabActiveContacts.react",["ActorHovercard.react","CometRelay","CometScrollableArea.react","FocusWithinHandler.react","MWChatFilterContacts","MWChatSearchTypeaheadDataEntry","MWChatTabActiveContact.react","React","stylex","MWChatTabActiveContacts_viewer.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={contactsList:{paddingTop:"cxgpxx05"}};function a(a){var c=a.onOpenPreviewForUser,d=a.setTokens;a=a.viewer$key;var e=h.useState(!1),f=e[0],k=e[1];e=b("CometRelay").useFragment(g!==void 0?g:g=b("MWChatTabActiveContacts_viewer.graphql"),a);var l=e?b("MWChatFilterContacts").filter(e==null?void 0:e.chat_sidebar_contacts).filteredContacts:[],m=function(a){var c=a.id,e=a.name,f=a.profileUri;d(function(a){return[new(b("MWChatSearchTypeaheadDataEntry"))({displayName:e,id:c,imageUrl:f,isContact:!0,resultType:"user",secondaryImageUrl:"",subtext:""})]})};return h.jsx(b("CometScrollableArea.react"),{horizontal:!1,xstyle:i.contactsList,children:h.jsx("div",{onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)},children:h.jsx(b("FocusWithinHandler.react"),{children:function(a,b){return h.jsx(j,{addTokenForContact:m,contacts:l,onOpenPreviewForUser:c,preventReordering:f||a||b})}})})})}var j=h.memo(function(a){var c=a.addTokenForContact,d=a.contacts,e=a.onOpenPreviewForUser;return h.jsx("ul",{children:d.map(function(a){var d;return h.jsx("li",{children:h.jsx(b("ActorHovercard.react"),{actorID:(d=a.id)!=null?d:"",position:"start",children:function(d){return h.jsx("div",{ref:d,children:h.jsx(b("MWChatTabActiveContact.react"),{addTokenForContact:c,onOpenPreviewForUser:e,profile:a})})}})},a.id)})})},function(a,b){return b.preventReordering})}),null);
__d("MWChatTabSuggestedContact.react",["CometRelay","React","TetraListCell.react","getMWThreadAddOnPrimary","recoverableViolation","MWChatTabSuggestedContact_profile.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.addTokenForContact,d=a.onOpenPreviewForUser;a=a.profile;a=b("CometRelay").useFragment(g!==void 0?g:g=b("MWChatTabSuggestedContact_profile.graphql"),a);var e=a.messaging_profile,f=a.name;a=a.profile_picture;var i=e==null?void 0:e.id,j=a==null?void 0:a.uri;if(i==null)return b("recoverableViolation")("Chat contact list cell is missing id","comet_ui");if(f==null)return b("recoverableViolation")("Chat contact list cell is missing name","comet_ui");if(j==null)return b("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui");e=b("getMWThreadAddOnPrimary")([j],f,!1,36,void 0);return h.jsx(b("TetraListCell.react"),{addOnPrimary:e,disabled:!1,headline:f,level:4,onPress:function(){c({id:i,name:f,profileUri:j}),d(i)},selected:!1,testid:void 0})}}),null);
__d("MWChatTabSuggestedContacts.react",["Actor","ActorHovercard.react","CometRelay","CometScrollableArea.react","MWChatSearchTypeaheadDataEntry","MWChatTabSuggestedContact.react","React","stylex","MWChatTabSuggestedContactsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={contactsList:{paddingTop:"cxgpxx05"}};function a(a){var c=a.numContactsToFetch,d=a.onOpenPreviewForUser,e=a.scale,f=a.setTokens;a=b("Actor").useActor();var j=a[0];a[1];a=b("CometRelay").useLazyLoadQuery(g!==void 0?g:g=b("MWChatTabSuggestedContactsQuery.graphql"),{numContactsToFetch:c,scale:e});c=a.viewer;c=(a=c==null?void 0:(e=c.messenger_contacts)==null?void 0:e.nodes.filter(function(a){return((a=a.messaging_profile)==null?void 0:a.id)!==j}))!=null?a:[];var k=function(a){var c=a.id,d=a.name,e=a.profileUri;f(function(a){return[new(b("MWChatSearchTypeaheadDataEntry"))({displayName:d,id:c,imageUrl:e,isContact:!0,resultType:"user",secondaryImageUrl:"",subtext:""})]})};return h.jsx(b("CometScrollableArea.react"),{horizontal:!1,xstyle:i.contactsList,children:h.jsx("ul",{children:c.map(function(a){var c;return h.jsx("li",{children:h.jsx(b("ActorHovercard.react"),{actorID:(c=(c=a.messaging_profile)==null?void 0:c.id)!=null?c:"",position:"start",children:function(c){return h.jsx("div",{ref:c,children:h.jsx(b("MWChatTabSuggestedContact.react"),{addTokenForContact:k,onOpenPreviewForUser:d,profile:a})})}})},(c=(c=a.messaging_profile)==null?void 0:c.id)!=null?c:"")})})})}}),null);
__d("MWChatTabContacts.react",["fbt","CometHomeContactsConfig","CometRelay","CometTabs.react","MWChatFilterContacts","MWChatTabActiveContacts.react","MWChatTabSuggestedContacts.react","React","WebPixelRatio","qex","recoverableViolation","stylex","useMWIsCometHomePage","MWChatTabContactsQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React"),k={root:{display:"j83agx80",flexDirection:"cbu4d94t",maxHeight:"nwf6jgls"},tab:{display:"j83agx80",flexGrow:"buofh1pr",height:"m7zwrmfr",justifyContent:"taijpn5t",width:"kmruvjm7"},tabsContainer:{boxShadow:"flhsghwj"},thinTab:{width:"cmkr7hnq"}},l=b("CometHomeContactsConfig").numContactsToFetch,m=b("WebPixelRatio").get();function a(a){var c=a.onOpenPreviewForUser;a=a.setTokens;var d=b("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatTabContactsQuery.graphql"),{numContactsToFetch:l,scale:b("WebPixelRatio").get()});d=d.viewer;var e=b("useMWIsCometHomePage")(),f=j.useState(e),n=f[0],o=f[1];j.useEffect(function(){o(function(){return e})},[e,o]);f=d?b("MWChatFilterContacts").filter(d.chat_sidebar_contacts).activeCount:0;f=[{label:g._("Sugerencias"),onPress:function(){return o(!0)},selected:n,underlineColor:"var(--accent)",xstyle:[k.tab,b("qex")._("1586109")?k.thinTab:!1]},{label:g._("Activos ({tu-num1})",[g._param("tu-num1",f)]),onPress:function(){return o(!1)},selected:!n,underlineColor:"var(--accent)",xstyle:[k.tab,b("qex")._("1586109")?k.thinTab:!1]}];if(d==null){b("recoverableViolation")("cannot render contacts in chat tab without a viewer","messenger_web_product");return j.jsx("div",{})}return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[j.jsx("div",{className:i(k.tabsContainer),children:j.jsx(b("CometTabs.react"),{tabs:f})}),n?j.jsx(b("MWChatTabSuggestedContacts.react"),{numContactsToFetch:l,onOpenPreviewForUser:c,scale:m,setTokens:a}):j.jsx(b("MWChatTabActiveContacts.react"),{onOpenPreviewForUser:c,setTokens:a,viewer$key:d})]})}c=a;e.exports=c}),null);
__d("MWChatTabContacts.bs",["MWChatTabContacts.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatTabContacts.react");f.make=a}),null);