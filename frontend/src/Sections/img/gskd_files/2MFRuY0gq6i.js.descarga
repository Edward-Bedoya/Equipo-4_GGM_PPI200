if (self.CavalryLogger) { CavalryLogger.start_js(["Z9KSX"]); }

__d("LSMetadata",[],(function(a,b,c,d,e,f){"use strict";f.buildTableData=g;f.buildMetadata=a;function g(a){var b={},c={};for(var d=0;d<a.length;d++){var e=a[d];for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;h={autoIncrement:(h=i.auto_increment)!=null?h:!1,cascadeUpdates:[],id:parseInt(i.id,10),indexes:i.indexes,name:i.name,primaryKeyIds:i.primary_key};b[h.id]=h;c[h.name]=h}}return{tableIds:b,tableNames:c}}function a(a){a=g(a);var b=a.tableIds;a=a.tableNames;return{tableIds:b,tableNames:a}}}),null);
__d("LSStorage",["IndexedDbKeyComparer","nullthrows"],(function(a,b,c,d,e,f){"use strict";f.searchKey=g;f.areKeysEqual=a;f.createSubscriptionManager=c;function g(a,b,c,d){a=a.tableNames[b];b=a.indexes;a=a.primaryKeyIds;a=d==null?a:b[d].keyIds;return a.reduceRight(function(a,b){return c[b]!==void 0&&a!==void 0?[c[b],a]:void 0},0)}function a(a,b){while(a!==0&&b!==0){if(a[0]!==b[0]&&!(Array.isArray(a[0])&&Array.isArray(b[0])&&a[0].length===b[0].length&&a[0].every(function(a,c){return a===b[0][c]})))return!1;a=a[1];b=b[1]}return a===0&&b===0}function h(a,c){return c==null?!0:(c.gt!==void 0?b("IndexedDbKeyComparer")(a,c.gt)>0:c.gte!==void 0?b("IndexedDbKeyComparer")(a,c.gte)>=0:!0)&&(c.lt!==void 0?b("IndexedDbKeyComparer")(a,c.lt)<0:c.lte!==void 0?b("IndexedDbKeyComparer")(a,c.lte)<=0:!0)}function c(a,c){var d=new Map(),e=new Map();function f(a,b,c,d){return Promise.all(Array.from(a.entries()).map(function(e){var f=e[0];e=e[1];if(a.has(f)&&h(c,e))return f(c,d,b)}))}function i(a){return b("nullthrows")((d.has(a)?d:d.set(a,[new Map(),new Map()])).get(a))}function j(a,c){a=i(a);a[0];a=a[1];return b("nullthrows")((a.has(c)?a:a.set(c,new Map())).get(c))}function k(d,e,h,i,j,k){var l=f.bind(null,d,k);d=g(c,e,h||{},j);var m=g(c,e,i||{},j);if(m==null&&d!=null)return l(d,{operation:"delete"});if(d==null&&m!=null)return l(m,{operation:"add",value:b("nullthrows")(i)});return d!=null&&m!=null?a(d,m)===0?l(d,{operation:"put",value:b("nullthrows")(i)}):l(d,{operation:"delete"}).then(function(){return l(m,{operation:"add",value:b("nullthrows")(i)})}):Promise.resolve()}return{subscribeTable:function(a,b,c){a=i(a);var d=a[0];d.set(b,c);return function(){d["delete"](b)}},subscribeIndex:function(a,b,c,d){var e=j(a,b);e.set(c,d);return function(){e["delete"](c)}},notifyTableAndIndexSubscribers:function(a,b,c,d){var e=i(a),f=e[0],g=e[1];return k(f,a,b,c,null,d).then(function(){return Promise.all(Array.from(g.entries()).map(function(e){var f=e[0];e=e[1];return k(e,a,b,c,f,d)}).filter(function(a){return a!=null}))})},subscribeToCommit:function(a){e.set(a,a);return function(){e["delete"](a)}},notifyCommit:function(){e.forEach(function(a){return a()})},dispose:function(){d.clear(),e.clear()}}}}),null);
__d("nativePromiseRegeneratorRuntime",[],(function(a,b,c,d,e,f){"use strict";var g=Object.prototype.hasOwnProperty;b=typeof Symbol==="function"?Symbol:{};var h=b.iterator||"@@iterator";c=b.asyncIterator||"@@asyncIterator";var i=e.exports;function j(a,b,c,d){b=Object.create((b||q).prototype);d=new A(d||[]);b._invoke=w(a,c,d);return b}i.wrap=j;function k(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var l="suspendedStart",m="suspendedYield",n="executing",o="completed",p={};function q(){}function r(){}function s(){}var t=s.prototype=q.prototype;r.prototype=t.constructor=s;s.constructor=r;r.displayName="GeneratorFunction";function a(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}v.prototype[c]=function(){return this};i.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===r||(a.displayName||a.name)==="GeneratorFunction":!1};i.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,s):Object.assign(a,s);a.prototype=Object.create(t);return a};i.awrap=function(a){return new u(a)};function u(a){this.arg=a}function v(a){function b(b,e){var f=a[b](e);b=f.value;return b instanceof u?window.Promise.resolve(b.arg).then(c,d):window.Promise.resolve(b).then(function(a){f.value=a;return f})}typeof process==="object"&&process.domain&&(b=process.domain.bind(b));var c=b.bind(a,"next"),d=b.bind(a,"throw");b.bind(a,"return");var e;function f(a,c){var d=e?e.then(function(){return b(a,c)}):new window.Promise(function(d){d(b(a,c))});e=d["catch"](function(a){});return d}this._invoke=f}a(v.prototype);i.async=function(a,b,c,d){var e=new v(j(a,b,c,d));return i.isGeneratorFunction(b)?e:e.next().then(function(a){return a.done?a.value:e.next()})};function w(a,b,c){var d=l;return function(e,f){if(d===n)throw new Error("Generator is already running");if(d===o){if(e==="throw")throw f;return C()}while(!0){var g=c.delegate;if(g){if(e==="return"||e==="throw"&&g.iterator[e]===void 0){c.delegate=null;var h=g.iterator["return"];if(h){h=k(h,g.iterator,f);if(h.type==="throw"){e="throw";f=h.arg;continue}}if(e==="return")continue}h=k(g.iterator[e],g.iterator,f);if(h.type==="throw"){c.delegate=null;e="throw";f=h.arg;continue}e="next";f=void 0;var i=h.arg;if(i.done)c[g.resultName]=i.value,c.next=g.nextLoc;else{d=m;return i}c.delegate=null}if(e==="next")d===m?c.sent=f:c.sent=void 0;else if(e==="throw"){if(d===l){d=o;throw f}c.dispatchException(f)&&(e="next",f=void 0)}else e==="return"&&c.abrupt("return",f);d=n;h=k(a,b,c);if(h.type==="normal"){d=c.done?o:m;var i={value:h.arg,done:c.done};if(h.arg===p)c.delegate&&e==="next"&&(f=void 0);else return i}else h.type==="throw"&&(d=o,e="throw",f=h.arg)}}}a(t);var x=!1;i.defineGeneratorMethods=function(){if(x)return;x=!0;t[h]=function(){return this};t.toString=function(){return"[object Generator]"}};i.defineGeneratorMethods();function y(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function z(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function A(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(y,this),this.reset(!0)}i.keys=function(a){var b=[];for(var c in a)b.push(c);b.reverse();return function c(){while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function B(a){if(a){var b=a[h];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var c=-1;b=function b(){while(++c<a.length)if(g.call(a,c)){b.value=a[c];b.done=!1;return b}b.value=void 0;b.done=!0;return b};return b.next=b}}return{next:C}}i.values=B;function C(){return{value:void 0,done:!0}}A.prototype={constructor:A,reset:function(a){this.prev=0;this.next=0;this.sent=void 0;this.done=!1;this.delegate=null;this.tryEntries.forEach(z);if(!a)for(var b in this)b.charAt(0)==="t"&&g.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var b=this;function c(c,d){f.type="throw";f.arg=a;b.next=c;return!!d}for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if(e.tryLoc==="root")return c("end");if(e.tryLoc<=this.prev){var h=g.call(e,"catchLoc"),i=g.call(e,"finallyLoc");if(h&&i){if(this.prev<e.catchLoc)return c(e.catchLoc,!0);else if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else if(h){if(this.prev<e.catchLoc)return c(e.catchLoc,!0)}else if(i){if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&g.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&(a==="break"||a==="continue")&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);d=e?e.completion:{};d.type=a;d.arg=b;e?this.next=e.finallyLoc:this.complete(d);return p},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=a.arg,this.next="end"):a.type==="normal"&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);z(c);return p}}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;z(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:B(a),resultName:b,nextLoc:c};return p}}}),null);
__d("BPlusTreeBase",["invariant","nativePromiseRegeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;function a(a,c,d){var e=b("nativePromiseRegeneratorRuntime").mark(j),f=b("nativePromiseRegeneratorRuntime").mark(m);c===void 0&&(c=32);var h={children:[],isLeaf:!0,keys:[]},i={gte:[!0,0],lt:[!0,1],gt:[!1,0],lte:[!1,1]};function j(a,c){var f,g,h,j,l;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(d.readExn(a),"t0",1);case 1:f=b.t0,g=[],(h=f,j=a),l=-1;case 5:if(h.isLeaf){b.next=14;break}g.push([h,j,l]);l=k(h.keys,c,i.gt);l===-1&&(l=h.keys.length);j=h.children[l];return b.delegateYield(d.readExn(j),"t1",11);case 11:h=b.t1;b.next=5;break;case 14:return b.abrupt("return",[h,j,g,l]);case 15:case"end":return b.stop()}},e,this)}function k(b,c,d){var e=0,f=b.length-1;while(e<=f){var g=e+f>>1;(d[0]?a(b[g],c)<0:a(b[g],c)<=0)?e=g+1:f=g-1}g=[e,f][d[1]];return g===b.length?-1:g}function l(b,c){if(!b.length){b.push(c);return[0,0]}var d=k(b,c,i.gte);if(d===-1)return[b.push(c)-1,0];else if(a(b[d],c)===0)return[d,1];b.splice(d,0,c);return[d,0]}function m(){var a,c;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(d.readHeader(),"t0",1);case 1:a=b.t0;if(!(a==null)){b.next=7;break}return b.delegateYield(d.writeNew({isLeaf:!0,children:[],keys:[]}),"t1",4);case 4:c=b.t1;a={rootId:c,tailId:c,headId:c};return b.delegateYield(d.writeHeader(a),"t2",7);case 7:return b.abrupt("return",a);case 8:case"end":return b.stop()}},f,this)}return{get:b("nativePromiseRegeneratorRuntime").mark(function c(d){var e,f,h;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.t0=j;return b.delegateYield(m(),"t1",2);case 2:b.t2=b.t1.rootId;b.t3=d;return b.delegateYield(b.t0(b.t2,b.t3),"t4",5);case 5:e=b.t4;f=e[0];h=k(f.keys,d,i.gte);h!==-1&&a(f.keys[h],d)===0||g(0,19679,d);return b.abrupt("return",f.children[h]);case 10:case"end":return b.stop()}},c,this)}),getWithDefault:b("nativePromiseRegeneratorRuntime").mark(function c(d,e){var f,g,h;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.t0=j;return b.delegateYield(m(),"t1",2);case 2:b.t2=b.t1.rootId;b.t3=d;return b.delegateYield(b.t0(b.t2,b.t3),"t4",5);case 5:f=b.t4;g=f[0];h=k(g.keys,d,i.gte);if(!(h===-1||a(g.keys[h],d)!==0)){b.next=10;break}return b.abrupt("return",e);case 10:return b.abrupt("return",g.children[h]);case 11:case"end":return b.stop()}},c,this)}),has:b("nativePromiseRegeneratorRuntime").mark(function c(d){var e,f,g;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.t0=j;return b.delegateYield(m(),"t1",2);case 2:b.t2=b.t1.rootId;b.t3=d;return b.delegateYield(b.t0(b.t2,b.t3),"t4",5);case 5:e=b.t4;f=e[0];g=k(f.keys,d,i.gte);return b.abrupt("return",g!==-1&&a(f.keys[g],d)===0);case 9:case"end":return b.stop()}},c,this)}),set:b("nativePromiseRegeneratorRuntime").mark(function a(e,f){var g,h,i,k,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.delegateYield(m(),"t0",1);case 1:g=a.t0;h={};return a.delegateYield(j(g.rootId,e),"t1",4);case 4:i=a.t1,k=i[0],n=i[1],o=i[2],(p=l(k.keys,e),q=p[0],r=p[1]),k.children.splice(q,r,f),(s=k,t=n);case 11:if(!(s.keys.length>=c)){a.next=47;break}w=o.pop()||[{keys:[],children:[t],isLeaf:!1}];u=w[0];v=w[1];x=Math.floor(s.keys.length/2);y=void 0,z=void 0;if(!s.isLeaf){a.next=36;break}y={isLeaf:!0,children:s.children.slice(x),keys:s.keys.slice(x),nextId:s.nextId,prevId:t};return a.delegateYield(d.writeNew(y),"t2",20);case 20:z=s.nextId=a.t2;if(!y.nextId){a.next=33;break}a.t3=d;a.t4=y.nextId;a.t5=babelHelpers;a.t6={};return a.delegateYield(d.readExn(y.nextId),"t7",27);case 27:a.t8=a.t7;a.t9={prevId:z};a.t10=a.t5["extends"].call(a.t5,a.t6,a.t8,a.t9);return a.delegateYield(a.t3.write.call(a.t3,a.t4,a.t10),"t11",31);case 31:a.next=34;break;case 33:h.tailId=z;case 34:a.next=39;break;case 36:y={isLeaf:!1,children:s.children.slice(x+1),keys:s.keys.slice(x+1)};return a.delegateYield(d.writeNew(y),"t12",38);case 38:z=a.t12;case 39:A=l(u.keys,s.keys[x]),B=A[0];u.children.splice(B+1,0,z);s.keys.length=x;s.children.length=x+(s.isLeaf?0:1);return a.delegateYield(d.write(t,s),"t13",44);case 44:s=u,t=v;a.next=11;break;case 47:if(!(t==null)){a.next=52;break}return a.delegateYield(d.writeNew(s),"t14",49);case 49:h.rootId=a.t14;a.next=53;break;case 52:return a.delegateYield(d.write(t,s),"t15",53);case 53:if(!Object.keys(h).length){a.next=55;break}return a.delegateYield(d.writeHeader(babelHelpers["extends"]({},g,h)),"t16",55);case 55:case"end":return a.stop()}},a,this)}),"delete":b("nativePromiseRegeneratorRuntime").mark(function e(f){var h,i,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(m(),"t0",1);case 1:h=b.t0;i={};k=Math.floor(c/2);return b.delegateYield(j(h.rootId,f),"t1",5);case 5:l=b.t1;n=l[0];o=l[1];p=l[2];q=l[3];r=n.keys.findIndex(function(b){return a(b,f)===0});if(!(r===-1)){b.next=13;break}return b.abrupt("return",!1);case 13:n.keys.splice(r,1),n.children.splice(r,1),s=n,t=o,u=q;case 18:if(!(s.keys.length<k&&p.length)){b.next=106;break}z=p.pop();v=z[0];w=z[1];x=z[2];A=[[{nodeId:v.children[u-1]},{nodeId:t,node:s},u-1],[{nodeId:t,node:s},{nodeId:v.children[u+1]},u]].filter(function(a){var b=a[0];a=a[1];return b.nodeId!==void 0&&a.nodeId!==void 0});B=A,C=Array.isArray(B),D=0,B=C?B:B[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 25:if(!C){b.next=31;break}if(!(D>=B.length)){b.next=28;break}return b.abrupt("break",59);case 28:E=B[D++];b.next=35;break;case 31:D=B.next();if(!D.done){b.next=34;break}return b.abrupt("break",59);case 34:E=D.value;case 35:F=E;G=F[0];H=F[1];I=F[2];b.t2=G.node;if(b.t2){b.next=43;break}return b.delegateYield(d.readExn(G.nodeId),"t3",42);case 42:b.t2=b.t3;case 43:G.node=b.t2;b.t4=H.node;if(b.t4){b.next=48;break}return b.delegateYield(d.readExn(H.nodeId),"t5",47);case 47:b.t4=b.t5;case 48:H.node=b.t4;if(!(G.node.keys.length+H.node.keys.length>=k*2)){b.next=57;break}s.isLeaf?(J=[].concat(G.node.children,H.node.children),K=[].concat(G.node.keys,H.node.keys),G.node.children=(H.node.children=J).splice(0,k),G.node.keys=(H.node.keys=K).splice(0,k),v.keys[I]=K[0]):(L=[].concat(G.node.children,H.node.children),M=[].concat(G.node.keys,[v.keys[I]],H.node.keys),G.node.children=(H.node.children=L).splice(0,k+1),v.keys[I]=M.splice(k,1)[0],G.node.keys=(H.node.keys=M).splice(0,k));return b.delegateYield(d.write(G.nodeId,G.node),"t6",52);case 52:return b.delegateYield(d.write(H.nodeId,H.node),"t7",53);case 53:return b.delegateYield(d.write(w,v),"t8",54);case 54:if(!Object.keys(i).length){b.next=56;break}return b.delegateYield(d.writeHeader(babelHelpers["extends"]({},h,i)),"t9",56);case 56:return b.abrupt("return",!0);case 57:b.next=25;break;case 59:N=A,O=Array.isArray(N),P=0,N=O?N:N[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 60:if(!O){b.next=66;break}if(!(P>=N.length)){b.next=63;break}return b.abrupt("break",103);case 63:Q=N[P++];b.next=70;break;case 66:P=N.next();if(!P.done){b.next=69;break}return b.abrupt("break",103);case 69:Q=P.value;case 70:R=Q;S=R[0];T=R[1];U=R[2];S.node.children=[].concat(S.node.children,T.node.children);if(!s.isLeaf){b.next=95;break}S.node.keys=[].concat(S.node.keys,T.node.keys);v.keys.splice(U,1);v.children.splice(U+1,1);if(!T.node.nextId){b.next=91;break}b.t10=d;b.t11=T.node.nextId;b.t12=babelHelpers;b.t13={};return b.delegateYield(d.readExn(T.node.nextId),"t14",85);case 85:b.t15=b.t14;b.t16={prevId:S.nodeId};b.t17=b.t12["extends"].call(b.t12,b.t13,b.t15,b.t16);return b.delegateYield(b.t10.write.call(b.t10,b.t11,b.t17),"t18",89);case 89:b.next=92;break;case 91:i.tailId=S.nodeId;case 92:S.node.nextId=T.node.nextId;b.next=98;break;case 95:S.node.keys=[].concat(S.node.keys,[v.keys[U]],T.node.keys),v.keys.splice(U,1),v.children.splice(U+1,1);case 98:return b.delegateYield(d.write(S.nodeId,S.node),"t19",99);case 99:return b.delegateYield(d.remove(T.nodeId),"t20",100);case 100:return b.abrupt("break",103);case 101:b.next=60;break;case 103:y=[v,w,x],s=y[0],t=y[1],u=y[2],y;b.next=18;break;case 106:return b.delegateYield(d.write(t,s),"t21",107);case 107:return b.delegateYield(d.readExn(h.rootId),"t22",108);case 108:V=b.t22;if(!(!V.keys.length&&V.children.length)){b.next=113;break}V.isLeaf&&g(0,19680);return b.delegateYield(d.remove(h.rootId),"t23",112);case 112:i.rootId=V.children[0];case 113:if(!Object.keys(i).length){b.next=115;break}return b.delegateYield(d.writeHeader(babelHelpers["extends"]({},h,i)),"t24",115);case 115:return b.abrupt("return",!0);case 116:case"end":return b.stop()}},e,this)}),entries:b("nativePromiseRegeneratorRuntime").mark(function c(e){var f,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:f=e===void 0?{}:e,l=f.dir,n=l===void 0?"asc":l,o=babelHelpers.objectWithoutPropertiesLoose(f,["dir"]);Object.prototype.hasOwnProperty.call(o,"gt")&&Object.prototype.hasOwnProperty.call(o,"gte")&&g(0,19824);Object.prototype.hasOwnProperty.call(o,"lt")&&Object.prototype.hasOwnProperty.call(o,"lte")&&g(0,19825);return b.delegateYield(m(),"t0",4);case 4:r=b.t0;if(!(n==="asc")){b.next=82;break}if(!Object.prototype.hasOwnProperty.call(o,"gt")){b.next=13;break}return b.delegateYield(j(r.rootId,o.gt),"t1",8);case 8:s=b.t1;p=s[0];q=s[1];b.next=26;break;case 13:if(!Object.prototype.hasOwnProperty.call(o,"gte")){b.next=20;break}return b.delegateYield(j(r.rootId,o.gte),"t2",15);case 15:t=b.t2;p=t[0];q=t[1];b.next=26;break;case 20:return b.delegateYield(d.readExn(r.headId),"t3",21);case 21:b.t4=b.t3,b.t5=r.headId,u=[b.t4,b.t5],p=u[0],q=u[1];case 26:v=Object.prototype.hasOwnProperty.call(o,"gt")?k(p.keys,o.gt,i.gt):Object.prototype.hasOwnProperty.call(o,"gte")?k(p.keys,o.gte,i.gte):0;case 27:if(!(p&&q!==void 0)){b.next=80;break}case 28:if(!(v!==-1&&v<p.keys.length)){b.next=71;break}w=p.keys[v];if(!(Object.prototype.hasOwnProperty.call(o,"lt")&&a(w,o.lt)>=0||Object.prototype.hasOwnProperty.call(o,"lte")&&a(w,o.lte)>0)){b.next=32;break}return b.abrupt("return");case 32:b.next=34;return[p.keys[v],p.children[v]];case 34:x=b.sent;return b.delegateYield(d.read(q),"t7",36);case 36:b.t6=b.t7;if(b.t6){b.next=39;break}b.t6=h;case 39:p=b.t6;if(!(x!=null)){b.next=55;break}a(x,w)>0||g(0,20472);v=k(p.keys,x,i.gte);if(!(v===-1)){b.next=53;break}b.t8=j;return b.delegateYield(m(),"t9",46);case 46:b.t10=(r=b.t9).rootId;b.t11=x;return b.delegateYield(b.t8(b.t10,b.t11),"t12",49);case 49:y=b.t12,p=y[0],q=y[1],v=k(p.keys,x,i.gte);case 53:b.next=69;break;case 55:z=v>=p.keys.length||a(p.keys[v],w)!==0;if(!z){b.next=68;break}v=k(p.keys,w,i.lte);if(!(v===-1)){b.next=68;break}b.t13=j;return b.delegateYield(m(),"t14",61);case 61:b.t15=(r=b.t14).rootId;b.t16=w;return b.delegateYield(b.t13(b.t15,b.t16),"t17",64);case 64:A=b.t17,p=A[0],q=A[1],v=k(p.keys,w,i.lte);case 68:v++;case 69:b.next=28;break;case 71:q=p.nextId;b.t18=q!==void 0;if(!b.t18){b.next=76;break}return b.delegateYield(d.readExn(q),"t19",75);case 75:b.t18=b.t19;case 76:p=b.t18;v=0;b.next=27;break;case 80:b.next=156;break;case 82:if(!Object.prototype.hasOwnProperty.call(o,"lt")){b.next=89;break}return b.delegateYield(j(r.rootId,o.lt),"t20",84);case 84:B=b.t20;p=B[0];q=B[1];b.next=102;break;case 89:if(!Object.prototype.hasOwnProperty.call(o,"lte")){b.next=96;break}return b.delegateYield(j(r.rootId,o.lte),"t21",91);case 91:C=b.t21;p=C[0];q=C[1];b.next=102;break;case 96:return b.delegateYield(d.readExn(r.tailId),"t22",97);case 97:b.t23=b.t22,b.t24=r.tailId,D=[b.t23,b.t24],p=D[0],q=D[1];case 102:E=Object.prototype.hasOwnProperty.call(o,"lt")?k(p.keys,o.lt,i.lt):Object.prototype.hasOwnProperty.call(o,"lte")?k(p.keys,o.lte,i.lte):p.keys.length-1;case 103:if(!(p&&q!==void 0)){b.next=156;break}case 104:if(!(E!==-1&&E>=0)){b.next=147;break}F=p.keys[E];if(!(Object.prototype.hasOwnProperty.call(o,"gt")&&a(F,o.gt)<=0||Object.prototype.hasOwnProperty.call(o,"gte")&&a(F,o.gte)<0)){b.next=108;break}return b.abrupt("return");case 108:b.next=110;return[p.keys[E],p.children[E]];case 110:G=b.sent;return b.delegateYield(d.read(q),"t26",112);case 112:b.t25=b.t26;if(b.t25){b.next=115;break}b.t25=h;case 115:p=b.t25;if(!(G!=null)){b.next=131;break}a(G,F)<0||g(0,20473);E=k(p.keys,G,i.lte);if(!(E===-1)){b.next=129;break}b.t27=j;return b.delegateYield(m(),"t28",122);case 122:b.t29=(r=b.t28).rootId;b.t30=G;return b.delegateYield(b.t27(b.t29,b.t30),"t31",125);case 125:H=b.t31,p=H[0],q=H[1],E=k(p.keys,G,i.lte);case 129:b.next=145;break;case 131:I=E>=p.keys.length||a(p.keys[E],F)!==0;if(!I){b.next=144;break}E=k(p.keys,F,i.gte);if(!(E===-1)){b.next=144;break}b.t32=j;return b.delegateYield(m(),"t33",137);case 137:b.t34=(r=b.t33).rootId;b.t35=F;return b.delegateYield(b.t32(b.t34,b.t35),"t36",140);case 140:J=b.t36,p=J[0],q=J[1],E=k(p.keys,F,i.gte);case 144:E--;case 145:b.next=104;break;case 147:q=p.prevId;b.t37=q!==void 0;if(!b.t37){b.next=152;break}return b.delegateYield(d.readExn(q),"t38",151);case 151:b.t37=b.t38;case 152:p=b.t37;E=p?p.keys.length-1:-1;b.next=103;break;case 156:case"end":return b.stop()}},c,this)})}}}),null);
__d("BPlusTree",["invariant","nativePromiseRegeneratorRuntime","BPlusTreeBase"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;function h(){var a,c={},d=void 0,e=0;return{read:(a=b("nativePromiseRegeneratorRuntime")).mark(function a(d){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",c[d]);case 1:case"end":return a.stop()}},a,this)}),readExn:a.mark(function a(d){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object.prototype.hasOwnProperty.call(c,d)?c[d]:g(!1,"expected key"));case 1:case"end":return a.stop()}},a,this)}),readHeader:a.mark(function a(){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",d);case 1:case"end":return a.stop()}},a,this)}),remove:a.mark(function a(d){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:delete c[d];case 1:case"end":return a.stop()}},a,this)}),write:a.mark(function a(d,e){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:c[d]=e;case 1:case"end":return a.stop()}},a,this)}),writeHeader:a.mark(function a(c){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:d=c;case 1:case"end":return a.stop()}},a,this)}),writeNew:a.mark(function a(d){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:c[e++]=d;return a.abrupt("return",e-1);case 2:case"end":return a.stop()}},a,this)})}}function i(a){var b=a.next();while(!b.done)b=a.next(b.value);return b.value}function a(a,c){c===void 0&&(c=16);var d=b("BPlusTreeBase")(a,c,h()),e;return e={"delete":function(a){return i(d["delete"](a))},entries:function(a){return d.entries(a)},get:function(a){return i(d.get(a))},getWithDefault:function(a,b){return i(d.getWithDefault(a,b))},has:function(a){return i(d.has(a))},set:function(a,b){i(d.set(a,b));return e}}}}),null);
__d("PromiseOrValue.bs",["bs_block","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(a.tag)return b("bs_block").__(1,[b("bs_curry")._1(c,a[0])]);else return b("bs_block").__(0,[a[0].then(b("bs_curry").__1(c))])}function c(a,c){if(a.tag)return b("bs_curry")._1(c,a[0]);else{b("promiseDone")(a[0],c,void 0);return 0}}function d(a){if(a.tag)return a[0];else return b("bs_block").__(0,[a[0].then(function(a){return a[0]})])}function e(a,c){if(a.tag){var d=a[0];if(c.tag)return b("bs_block").__(1,[[d,c[0]]]);else return b("bs_block").__(0,[c[0].then(function(a){return[d,a]})])}else{a=a[0];if(c.tag){var e=c[0];return b("bs_block").__(0,[a.then(function(a){return[a,e]})])}else return b("bs_block").__(0,[window.Promise.all([a,c[0]])])}}function g(a){if(a.tag)return window.Promise.resolve(a[0]);else return a[0]}function h(a){return b("bs_block").__(1,[a])}function i(a){return b("bs_block").__(0,[a])}function j(a,c){while(!0){var d=c;d=b("bs_curry")._1(a,d);if(d.tag){var e=d[0];if(e.tag){c=e[0];continue}else return b("bs_block").__(1,[e[0]])}else return b("bs_block").__(0,[d[0].then(function(c){c=c.tag?j(a,c[0]):b("bs_block").__(1,[c[0]]);return c[0]})])}}f.map=a;f.mapDone=c;f.flatten=d;f.all2=e;f.toPromise=g;f.fromValue=h;f.fromPromise=i;f.loop=j}),null);
__d("SortedAsyncIterable.bs",["bs_curry","bs_js_dict","bs_caml_obj","bs_pervasives","PromiseOrValue.bs","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";var g={};function h(a,b){if(a)return[a[0],h(a[1],b)];else return b}function a(a,c){while(!0){var d=c,e=a;if(d)if(e){if(!b("bs_caml_obj").caml_equal(e[0],d[0]))throw[b("bs_caml_builtin_exceptions").assert_failure,["SortedAsyncIterable.re",41,8]];c=d[1];a=e[1];continue}else return b("bs_pervasives").failwith("unexpected end of key");else return e}}a={concat:h,strip:a};function c(a,c){return b("bs_curry")._2(a.subscribe,void 0,function(a,d,e){b("bs_curry")._2(c,a,d);return 0})}var i={contents:void 0};function d(a){return b("bs_curry")._2(a.iterator,void 0,new WeakMap())}function j(c,d,a){a=b("bs_js_dict").fromArray([["direction",a]]);a.iterator=c;a.subscribe=d;return a}function e(a){return j(function(a,c){return{next:function(a){return b("PromiseOrValue.bs").fromValue({done:!0,value:void 0})}}},function(a,b){return function(a){return 0}},"asc")}function k(a){return a.direction}f.Bounds=g;f.Key=a;f.iterator=d;f.subscribe=c;f.direction=k;f.context=i;f.make=j;f.empty=e}),null);
__d("SkytaleDB.bs",["bs_block","bs_curry","bs_js_dict","bs_pervasives","SortedAsyncIterable.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){return b("SortedAsyncIterable.bs").Key.concat(a,[[[]],0])}function a(a){var c=function(a){var b=a[0];if(b>=-179650181)if(b>=448478038)return["gte",a[1]];else return["gt",g(a[1])];else if(b>=-214671526)return["lt",a[1]];else return["lte",g(a[1])]},d=a[0];if(d!==-467688003)if(d>=-179650181)return b("bs_js_dict").fromArray([c(a)]);else return b("bs_js_dict").fromArray([c(a)]);else{d=a[1];return b("bs_js_dict").fromArray([c(d[0]),c(d[1])])}}function c(a){var c=a.operation;switch(c){case"add":return b("bs_block").__(0,[a.value]);case"delete":return 0;case"put":return b("bs_block").__(1,[a.value]);default:return b("bs_pervasives").failwith("unexpected operation")}}e={};var h={};function d(a,c,d){return a.get(c).then(function(e){return a.upsert(c,b("bs_curry")._1(d,e))})}h={Index:h,update:d};f.nextKey=g;f.mapBounds=a;f.mapEventToOperation=c;f.Direction=e;f.Table=h}),null);
__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,indexes:{},primary_key:["a"]},{name:"pending_tasks",id:2,indexes:{},primary_key:["a"],auto_increment:!0},{name:"network_requests",id:3,indexes:{},primary_key:["a","b"]},{name:"_user_info",id:4,indexes:{},primary_key:["a"]},{name:"pending_fire_and_forget_tasks",id:5,indexes:{},primary_key:["a"],auto_increment:!0},{name:"user_visible_errors",id:6,indexes:{},primary_key:["a"],auto_increment:!0}],[{name:"contacts",id:7,indexes:{},primary_key:["a"]}],[{name:"reactions",id:8,indexes:{},primary_key:["a","c","d"]},{name:"threads",id:9,indexes:{lastActivityTimestampMs:{keyIds:["i","a"],unique:!0},parentThreadKeyLastActivityTimestampMs:{keyIds:["A","i","a"],unique:!0},clientThreadKey:{keyIds:["O","a"],unique:!0}},primary_key:["a"]},{name:"threads_ranges_v2__generated",id:10,indexes:{},primary_key:["a","b","c"]},{name:"threads_ranges__generated",id:11,indexes:{},primary_key:["a"]},{name:"messages",id:12,indexes:{optimistic:{keyIds:["f"],unique:!0}},primary_key:["a","b","e"]},{name:"messages_ranges_v2__generated",id:13,indexes:{},primary_key:["a","b","c"]},{name:"participants",id:14,indexes:{threadKeyReadWatermarkTimestampMs:{keyIds:["a","c","b"],unique:!0}},primary_key:["a","b"]},{name:"ctas",id:15,indexes:{},primary_key:["a"]},{name:"attachments",id:16,indexes:{fk_messages:{keyIds:["a","b","c","e"],unique:!0}},primary_key:["a","c","e"]},{name:"attachments_ranges_v2__generated",id:17,indexes:{},primary_key:["a","b","c"]},{name:"attachment_items",id:18,indexes:{},primary_key:["a","b"]},{name:"attachment_ctas",id:19,indexes:{},primary_key:["a"]},{name:"quick_reply_ctas",id:20,indexes:{},primary_key:["a","b","c"]},{name:"m_suggestions",id:21,indexes:{},primary_key:["a","b","c"]},{name:"rtc_signals",id:22,indexes:{},primary_key:["a","b"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,indexes:{},primary_key:["a"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,indexes:{},primary_key:["a"]},{name:"mailbox_metadata",id:25,indexes:{},primary_key:["a"]},{name:"group_membership_approval_requests",id:26,indexes:{},primary_key:["a","b"]},{name:"admin_message_ctas",id:27,indexes:{},primary_key:["a","b","c"]},{name:"thread_nullstate",id:28,indexes:{},primary_key:["a"]},{name:"thread_nullstate_ctas",id:29,indexes:{},primary_key:["a"]},{name:"focus_mode_ctas",id:30,indexes:{},primary_key:["a","b","c"]},{name:"messages_optimistic_context",id:31,indexes:{},primary_key:["a"]},{name:"threads_optimistic_context",id:32,indexes:{},primary_key:["a"]},{name:"messages_status",id:33,indexes:{},primary_key:["a","b","c","d","e","f"]},{name:"message_requests",id:34,indexes:{},primary_key:["a"]},{name:"folder_metadata",id:35,indexes:{},primary_key:["a"]},{name:"poll_options",id:36,indexes:{},primary_key:["a","b"]},{name:"poll_votes",id:37,indexes:{},primary_key:["a","b","c"]},{name:"polls",id:38,indexes:{},primary_key:["a"]},{name:"poll_options_v2",id:39,indexes:{},primary_key:["a","b"]},{name:"poll_votes_v2",id:40,indexes:{},primary_key:["a","b","c"]}],[{name:"media_send_jobs",id:51,indexes:{},primary_key:["a"]}],[{name:"typing_indicator",id:52,indexes:{},primary_key:["a","b"]}],[{name:"story_buckets",id:53,indexes:{optimistic:{keyIds:["b","c"],unique:!0}},primary_key:["a"]},{name:"stories",id:54,indexes:{optimistic:{keyIds:["e"],unique:!0}},primary_key:["a"]},{name:"story_viewers",id:55,indexes:{},primary_key:["a","b","c"]},{name:"story_reactions",id:56,indexes:{optimistic:{keyIds:["f"],unique:!0}},primary_key:["a"]},{name:"story_ad_unit",id:57,indexes:{},primary_key:["a","b"]},{name:"story_ad_card",id:58,indexes:{},primary_key:["a","b","c"]},{name:"story_ad_ctas",id:59,indexes:{},primary_key:["a"]},{name:"story_overlays",id:60,indexes:{},primary_key:["a","b"]},{name:"story_buckets_paginated_queries",id:61,indexes:{},primary_key:["a"]},{name:"status",id:62,indexes:{optimistic:{keyIds:["c"],unique:!0}},primary_key:["a"]},{name:"rooms",id:63,indexes:{optimistic:{keyIds:["b"],unique:!0}},primary_key:["a"]},{name:"room_participants",id:64,indexes:{optimistic:{keyIds:["a","b"],unique:!0}},primary_key:["a","b","c"]}],[{name:"server_search_results",id:65,indexes:{},primary_key:["a","b","c"]},{name:"server_search_sections",id:66,indexes:{},primary_key:["a","b"]},{name:"search_queries",id:67,indexes:{},primary_key:["a"]},{name:"universal_search_recent_searches",id:68,indexes:{},primary_key:["a"]},{name:"message_search_results",id:69,indexes:{},primary_key:["a","b","c","d"]},{name:"message_search_queries",id:70,indexes:{},primary_key:["a","b","c"]}],[{name:"notification_settings",id:71,indexes:{},primary_key:["a"]},{name:"story_settings",id:72,indexes:{},primary_key:["a"]},{name:"story_participant_settings",id:73,indexes:{},primary_key:["a"]},{name:"contact_upload_settings",id:74,indexes:{},primary_key:["a"]},{name:"gdpr_settings",id:75,indexes:{},primary_key:["a"]},{name:"presence_settings",id:76,indexes:{},primary_key:["a"]},{name:"persistent_menu_items",id:77,indexes:{},primary_key:["a","b"]},{name:"video_chat_links_joining",id:78,indexes:{optimistic:{keyIds:["b"],unique:!0}},primary_key:["a","b"]},{name:"video_chat_links_attempted_joiners",id:79,indexes:{},primary_key:["a","b"]},{name:"cowatch_sessions",id:80,indexes:{},primary_key:["a"]},{name:"self_profile",id:81,indexes:{},primary_key:["a"]},{name:"pinned_threads",id:82,indexes:{},primary_key:["a"]},{name:"messaging_settings",id:83,indexes:{},primary_key:["a"]}],[{name:"presence_states",id:84,indexes:{},primary_key:["a"]}],[{name:"payment_type_paypal",id:85,indexes:{},primary_key:["b"]},{name:"payment_type_card",id:86,indexes:{},primary_key:["b"]},{name:"payment_type_bank",id:87,indexes:{},primary_key:["a"]},{name:"payment_type_bank_v2",id:88,indexes:{},primary_key:["a"]},{name:"payment_method",id:89,indexes:{},primary_key:["a"]},{name:"new_payment_credential_option",id:90,indexes:{},primary_key:["a"]},{name:"paypal_funding_options",id:91,indexes:{},primary_key:["a"]},{name:"payments_eligibility",id:92,indexes:{},primary_key:["a"]},{name:"payments_ofac_blacklisted_countries",id:93,indexes:{},primary_key:["a"]},{name:"p2m_invoice",id:94,indexes:{},primary_key:["a"]},{name:"p2m_invoice_attachment",id:95,indexes:{},primary_key:["a","b"]},{name:"payment_price_list_item",id:96,indexes:{},primary_key:["a","b"]},{name:"p2m_charge",id:97,indexes:{},primary_key:["a"]},{name:"payment_p2p_risk_verification",id:98,indexes:{},primary_key:["a","b"]},{name:"payment_transaction_v2",id:99,indexes:{optimistic:{keyIds:["c"],unique:!0}},primary_key:["a","b"]},{name:"p2p_request_v2",id:100,indexes:{optimistic:{keyIds:["c"],unique:!0}},primary_key:["a","b"]},{name:"p2p_transfer_v2",id:101,indexes:{optimistic:{keyIds:["c"],unique:!0}},primary_key:["a","b"]},{name:"transaction_history",id:102,indexes:{},primary_key:["a"]},{name:"payments_transaction_details_core",id:103,indexes:{},primary_key:["a"]},{name:"payments_transaction_details_ctas",id:104,indexes:{},primary_key:["a","b"]},{name:"payments_transaction_details_rows",id:105,indexes:{},primary_key:["a","b"]},{name:"payment_user_auth",id:106,indexes:{},primary_key:["a"]},{name:"payment_client_auth_token",id:107,indexes:{},primary_key:["a","b","c"]},{name:"payment_auth_request_results",id:108,indexes:{},primary_key:["a"]},{name:"payment_server_request_results",id:109,indexes:{},primary_key:["a"]},{name:"payment_transaction",id:110,indexes:{},primary_key:["a"]},{name:"p2p_transfer",id:111,indexes:{optimistic:{keyIds:["a"],unique:!0}},primary_key:["a","d","e"]},{name:"p2p_request",id:112,indexes:{optimistic:{keyIds:["a"],unique:!0}},primary_key:["a","d","e"]},{name:"payment_pin_verification_results",id:113,indexes:{},primary_key:["a"]}],[{name:"connectivity_status",id:114,indexes:{},primary_key:["a"]},{name:"user_visible_network_connectivity_error",id:115,indexes:{},primary_key:["a"]}],[{name:"thread_themes",id:116,indexes:{},primary_key:["a"]},{name:"gradient_colors",id:117,indexes:{},primary_key:["a","b"]}],[{name:"in_thread_banner",id:118,indexes:{},primary_key:["a","b"]},{name:"in_thread_banner_ctas",id:119,indexes:{},primary_key:["a","b"]},{name:"in_thread_banner_overflow_menu",id:120,indexes:{},primary_key:["a","b"]}],[{name:"stickers",id:121,indexes:{stickerPackId:{keyIds:["m","a"],unique:!0}},primary_key:["a"]},{name:"sticker_packs",id:122,indexes:{},primary_key:["a"]},{name:"sticker_search_results",id:123,indexes:{},primary_key:["a","b"]},{name:"sticker_search_queries",id:124,indexes:{},primary_key:["a"]},{name:"sticker_search_featured_tags",id:125,indexes:{},primary_key:["a"]},{name:"sticker_to_collection",id:126,indexes:{},primary_key:["a","b"]},{name:"sticker_pack_details",id:127,indexes:{},primary_key:["a"]},{name:"sticker_store_pack_indices",id:128,indexes:{},primary_key:["a"]}],[{name:"forward_content",id:129,indexes:{},primary_key:["a","b"]}],[{name:"linked_groups",id:130,indexes:{threadKey:{keyIds:["b"],unique:!0}},primary_key:["a"]}],[{name:"media_staging",id:131,indexes:{},primary_key:["a"]}],[{name:"ranking_scores",id:134,indexes:{},primary_key:["a","d"]},{name:"ranking_requests",id:135,indexes:{},primary_key:["a"]},{name:"value_model_rules",id:136,indexes:{},primary_key:["a","b"]},{name:"value_model_features",id:137,indexes:{},primary_key:["a"]},{name:"value_model_output",id:138,indexes:{},primary_key:["a","b"]}],[],[],[],[{name:"secure_message_client_state",id:41,indexes:{},primary_key:["a"]},{name:"secure_message_pre_keys",id:42,indexes:{},primary_key:["a"]},{name:"secure_message_session_state",id:43,indexes:{},primary_key:["a","b"]},{name:"secure_message_other_devices",id:44,indexes:{},primary_key:["a"]},{name:"secure_message_sender_key",id:45,indexes:{},primary_key:["a","b","c"]},{name:"secure_threads",id:46,indexes:{},primary_key:["a"]},{name:"secure_messages",id:47,indexes:{optimistic:{keyIds:["g"],unique:!0},threadKeyPrimarySortKey:{keyIds:["a","c","r"],unique:!0}},primary_key:["a","b","c"]},{name:"secure_thread_participants",id:48,indexes:{},primary_key:["a","b"]},{name:"secure_attachments",id:49,indexes:{optimistic:{keyIds:["e"],unique:!0},threadKeyMessageIdAttachmentId:{keyIds:["a","d","b"],unique:!0}},primary_key:["a","b"]},{name:"secure_mailbox_sync_metadata",id:50,indexes:{},primary_key:["a"]}],[],[],[],[],[],[],[],[],[],[],[],[],[],[{name:"crypto_auth_token",id:133,indexes:{},primary_key:["a"]}],[],[{name:"secure_key_stores",id:132,indexes:{},primary_key:["a"]}],[]]}),null);
__d("SkytaleDB",["LSMetadata","LSTableSchemas","SkytaleDB.bs","PromiseOrValue.bs","LSStorage","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("LSMetadata").buildTableData(b("LSTableSchemas"));function h(a,b){var c=[],d=a;while(d!==0)c.push(d[0]),d=d[1];return c.length>=b?a:c.reduceRight(function(a,b){return[b,a]},[[[]],0])}function i(a,c){return a==null?void 0:Object.entries(b("SkytaleDB.bs").mapBounds(a)).reduce(function(a,b){var d=b[0];b=b[1];return babelHelpers["extends"]({},a,(a={},a[d]=d==="gt"||d==="lte"?h(b,c):b,a))},{})}function j(a){var c=a.next;a.next=function(){var a=c.apply(this,arguments);return a instanceof window.Promise?b("PromiseOrValue.bs").fromPromise(a):b("PromiseOrValue.bs").fromValue(a)};return a}a={table:function(a,c){var d=g.tableNames[c],e=a.table(c);a=d.primaryKeyIds.length;var f=function(a,c,d){return{iterator:function(b,e){return j(c.entries(e,a,i(b,d)))},subscribe:function(a,e){return c.subscribe(function(a,c,d){return e(a,b("SkytaleDB.bs").mapEventToOperation(c),d)},i(a,d))},direction:a}};return{add:e.add,upsert:function(a,b){return e.upsert(a,b)},put:function(a){return e.upsert(b("nullthrows")(b("LSStorage").searchKey(g,c,a)),a)},get:function(a){return e.get(a)},"delete":function(a){return e["delete"](a)},asc:f("asc",e,a),desc:f("desc",e,a),index:function(a){var b=g.tableNames[c].indexes[a],d=e.index(a);a=b.keyIds.length;return babelHelpers["extends"]({},d,{get:function(a){return d.get(a)},getKey:function(a){return d.getKey(a)},asc:f("asc",d,a),desc:f("desc",d,a)})}}}};e.exports=a}),null);